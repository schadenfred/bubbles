  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (30.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (18.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateButtaflySpreadsheets (20180106031913)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateButtaflySpreadsheets (20180106031913)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateButtaflySpreadsheets (20180106031913)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_uploader_id" ON "buttafly_spreadsheets" ("uploader_id")[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateButtaflySpreadsheets (20180106031913)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "buttafly_spreadsheets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "flat_file" varchar, "aasm_state" varchar, "uploader_id" integer, "imported_at" datetime, "processed_at" datetime, "row_count" integer, "mtime" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_uploader_id" ON "buttafly_spreadsheets" ("uploader_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_name" ON "buttafly_spreadsheets" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_imported_at" ON "buttafly_spreadsheets" ("imported_at")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_processed_at" ON "buttafly_spreadsheets" ("processed_at")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_aasm_state" ON "buttafly_spreadsheets" ("aasm_state")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106031913"]]
  [1m[35m (17.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateButtaflyMappings (20180106034152)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "buttafly_mappings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "legend_id" integer, "originable_id" integer, "originable_type" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_mappings_on_originable_id_and_originable_type" ON "buttafly_mappings" ("originable_id", "originable_type")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106034152"]]
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateButtaflyLegends (20180106034801)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "buttafly_legends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "data" text, "targetable_model" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106034801"]]
  [1m[35m (22.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-01-06 04:02:52.492243"], ["updated_at", "2018-01-06 04:02:52.492243"]]
  [1m[35m (8.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 04:23:28.445514', '2018-01-06 04:23:28.445514', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 04:23:28.445514', '2018-01-06 04:23:28.445514', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 04:23:28.449361', '2018-01-06 04:23:28.449361', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 04:23:28.449361', '2018-01-06 04:23:28.449361', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 04:23:28.451949', '2018-01-06 04:23:28.451949', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 04:23:28.451949', '2018-01-06 04:23:28.451949', 298486374)[0m
  [1m[35m (15.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------
Buttafly::Test: test_truth
--------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
Buttafly::SpreadsheetsControllerTest: test_should_get_index
-----------------------------------------------------------
  [1m[36mButtafly::Spreadsheet Load (0.2ms)[0m  [1m[34mSELECT  "buttafly_spreadsheets".* FROM "buttafly_spreadsheets" WHERE "buttafly_spreadsheets"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 04:29:11.844386', '2018-01-06 04:29:11.844386', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 04:29:11.844386', '2018-01-06 04:29:11.844386', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 04:29:11.847851', '2018-01-06 04:29:11.847851', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 04:29:11.847851', '2018-01-06 04:29:11.847851', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 04:29:11.850047', '2018-01-06 04:29:11.850047', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 04:29:11.850047', '2018-01-06 04:29:11.850047', 298486374)[0m
  [1m[35m (10.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
Buttafly::SpreadsheetsControllerTest: test_should_destroy_spreadsheet
---------------------------------------------------------------------
  [1m[36mButtafly::Spreadsheet Load (0.2ms)[0m  [1m[34mSELECT  "buttafly_spreadsheets".* FROM "buttafly_spreadsheets" WHERE "buttafly_spreadsheets"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "buttafly_spreadsheets"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 04:57:20.478550', '2018-01-06 04:57:20.478550', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 04:57:20.478550', '2018-01-06 04:57:20.478550', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 04:57:20.482304', '2018-01-06 04:57:20.482304', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 04:57:20.482304', '2018-01-06 04:57:20.482304', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 04:57:20.484873', '2018-01-06 04:57:20.484873', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 04:57:20.484873', '2018-01-06 04:57:20.484873', 298486374)[0m
  [1m[35m (18.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
Buttafly::SpreadsheetsControllerTest: test_should_create_spreadsheet
--------------------------------------------------------------------
  [1m[36mButtafly::Spreadsheet Load (0.3ms)[0m  [1m[34mSELECT  "buttafly_spreadsheets".* FROM "buttafly_spreadsheets" WHERE "buttafly_spreadsheets"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "buttafly_spreadsheets"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 05:46:45.313759', '2018-01-06 05:46:45.313759', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 05:46:45.313759', '2018-01-06 05:46:45.313759', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 05:46:45.317771', '2018-01-06 05:46:45.317771', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 05:46:45.317771', '2018-01-06 05:46:45.317771', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 05:46:45.320507', '2018-01-06 05:46:45.320507', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 05:46:45.320507', '2018-01-06 05:46:45.320507', 298486374)[0m
  [1m[35m (16.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
Buttafly::SpreadsheetsControllerTest: test_should_get_new
---------------------------------------------------------
  [1m[36mButtafly::Spreadsheet Load (0.2ms)[0m  [1m[34mSELECT  "buttafly_spreadsheets".* FROM "buttafly_spreadsheets" WHERE "buttafly_spreadsheets"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateWines (20180106075709)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "wines" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "vintage" varchar, "winery_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106075709"]]
  [1m[35m (16.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateWineries (20180106075729)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "wineries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "mission" varchar, "history" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106075729"]]
  [1m[35m (17.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateUsers (20180106075759)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106075759"]]
  [1m[35m (10.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateReviews (20180106075828)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "rating" integer, "content" varchar, "reviewer_id" integer, "wine_id" varchar, "integer" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106075828"]]
  [1m[35m (10.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 08:39:10.087683', '2018-01-06 08:39:10.087683', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 08:39:10.087683', '2018-01-06 08:39:10.087683', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 08:39:10.092076', '2018-01-06 08:39:10.092076', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 08:39:10.092076', '2018-01-06 08:39:10.092076', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 08:39:10.094330', '2018-01-06 08:39:10.094330', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 08:39:10.094330', '2018-01-06 08:39:10.094330', 298486374)[0m
  [1m[35m (8.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
Buttafly::SpreadsheetsControllerTest: test_should_destroy_spreadsheet
---------------------------------------------------------------------
  [1m[36mButtafly::Spreadsheet Load (0.3ms)[0m  [1m[34mSELECT  "buttafly_spreadsheets".* FROM "buttafly_spreadsheets" WHERE "buttafly_spreadsheets"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "buttafly_spreadsheets"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
Started GET "/" for 127.0.0.1 at 2018-01-06 00:39:34 -0800
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/schadenfred/.rvm/gems/ruby-2.5.0@buttafly/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/schadenfred/.rvm/gems/ruby-2.5.0@buttafly/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb (2.6ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 00:39:39 -0800
  
ActionController::RoutingError (No route matches [GET] "/buttafly"):
  

Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 00:40:01 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/buttafly"):
  

Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 00:42:57 -0800
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/buttafly"):
  

Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 00:45:24 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m

NameError - uninitialized constant Buttafly::ContentsController:

Started POST "/buttafly/__better_errors/50deb34b799248e1/variables" for 127.0.0.1 at 2018-01-06 00:45:24 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 08:46:27.436597', '2018-01-06 08:46:27.436597', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 08:46:27.436597', '2018-01-06 08:46:27.436597', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 08:46:27.444215', '2018-01-06 08:46:27.444215', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 08:46:27.444215', '2018-01-06 08:46:27.444215', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 08:46:27.449762', '2018-01-06 08:46:27.449762', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 08:46:27.449762', '2018-01-06 08:46:27.449762', 298486374)[0m
  [1m[35m (17.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-06 00:46:27 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (0.8ms)
Completed 200 OK in 225ms (Views: 224.3ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 00:46:41 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (1.9ms)
Completed 200 OK in 232ms (Views: 230.6ms)


Started GET "/" for 127.0.0.1 at 2018-01-06 00:46:54 -0800
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/schadenfred/.rvm/gems/ruby-2.5.0@buttafly/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/schadenfred/.rvm/gems/ruby-2.5.0@buttafly/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb (1.9ms)
Completed 200 OK in 4ms (Views: 3.0ms)


Started GET "/" for 127.0.0.1 at 2018-01-06 00:54:03 -0800
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/schadenfred/.rvm/gems/ruby-2.5.0@buttafly/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/schadenfred/.rvm/gems/ruby-2.5.0@buttafly/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb (2.1ms)
Completed 200 OK in 4ms (Views: 3.1ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 00:54:08 -0800
Processing by Buttafly::ContentsController#index as HTML
Completed 406 Not Acceptable in 24ms



ActionController::UnknownFormat - Buttafly::ContentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:

  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 08:54:55.498687', '2018-01-06 08:54:55.498687', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 08:54:55.498687', '2018-01-06 08:54:55.498687', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 08:54:55.501131', '2018-01-06 08:54:55.501131', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 08:54:55.501131', '2018-01-06 08:54:55.501131', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 08:54:55.503411', '2018-01-06 08:54:55.503411', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 08:54:55.503411', '2018-01-06 08:54:55.503411', 298486374)[0m
  [1m[35m (16.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-06 00:54:55 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (9.7ms)
Completed 200 OK in 189ms (Views: 188.4ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 00:55:10 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (5.7ms)
Completed 200 OK in 237ms (Views: 236.3ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 00:55:53 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (3.2ms)
Completed 200 OK in 19ms (Views: 17.4ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 00:56:31 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (5.2ms)
Completed 200 OK in 34ms (Views: 32.9ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 00:57:12 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (4.6ms)
Completed 200 OK in 18ms (Views: 16.9ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 00:57:22 -0800
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (7.5ms)
Completed 200 OK in 234ms (Views: 233.5ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 00:57:48 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (5.3ms)
Completed 200 OK in 20ms (Views: 19.1ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 08:59:25.247994', '2018-01-06 08:59:25.247994', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 08:59:25.247994', '2018-01-06 08:59:25.247994', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 08:59:25.252077', '2018-01-06 08:59:25.252077', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 08:59:25.252077', '2018-01-06 08:59:25.252077', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 08:59:25.255210', '2018-01-06 08:59:25.255210', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 08:59:25.255210', '2018-01-06 08:59:25.255210', 298486374)[0m
  [1m[35m (16.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-06 00:59:25 -0800
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.3ms)
Completed 200 OK in 172ms (Views: 170.8ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:01:51.930449', '2018-01-06 09:01:51.930449', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:01:51.930449', '2018-01-06 09:01:51.930449', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:01:51.933735', '2018-01-06 09:01:51.933735', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:01:51.933735', '2018-01-06 09:01:51.933735', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:01:51.935855', '2018-01-06 09:01:51.935855', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:01:51.935855', '2018-01-06 09:01:51.935855', 298486374)[0m
  [1m[35m (16.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-06 01:01:52 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (7.0ms)
Completed 200 OK in 174ms (Views: 172.9ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:02:07 -0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (8.4ms)
Completed 200 OK in 236ms (Views: 235.2ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:02:17.433828', '2018-01-06 09:02:17.433828', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:02:17.433828', '2018-01-06 09:02:17.433828', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:02:17.436013', '2018-01-06 09:02:17.436013', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:02:17.436013', '2018-01-06 09:02:17.436013', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:02:17.437536', '2018-01-06 09:02:17.437536', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:02:17.437536', '2018-01-06 09:02:17.437536', 298486374)[0m
  [1m[35m (10.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-06 01:02:17 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (16.0ms)
Completed 200 OK in 190ms (Views: 188.5ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:03:17 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.8ms)
Completed 200 OK in 219ms (Views: 217.3ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:08:22.534836', '2018-01-06 09:08:22.534836', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:08:22.534836', '2018-01-06 09:08:22.534836', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:08:22.537255', '2018-01-06 09:08:22.537255', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:08:22.537255', '2018-01-06 09:08:22.537255', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:08:22.538821', '2018-01-06 09:08:22.538821', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:08:22.538821', '2018-01-06 09:08:22.538821', 298486374)[0m
  [1m[35m (14.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-06 01:08:22 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.5ms)
Completed 200 OK in 168ms (Views: 167.4ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:11:34.839679', '2018-01-06 09:11:34.839679', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:11:34.839679', '2018-01-06 09:11:34.839679', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:11:34.843441', '2018-01-06 09:11:34.843441', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:11:34.843441', '2018-01-06 09:11:34.843441', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:11:34.845539', '2018-01-06 09:11:34.845539', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:11:34.845539', '2018-01-06 09:11:34.845539', 298486374)[0m
  [1m[35m (21.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-06 01:11:35 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (13.2ms)
Completed 200 OK in 169ms (Views: 168.0ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:11:43.948472', '2018-01-06 09:11:43.948472', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:11:43.948472', '2018-01-06 09:11:43.948472', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:11:43.951889', '2018-01-06 09:11:43.951889', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:11:43.951889', '2018-01-06 09:11:43.951889', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:11:43.954109', '2018-01-06 09:11:43.954109', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:11:43.954109', '2018-01-06 09:11:43.954109', 298486374)[0m
  [1m[35m (10.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-06 01:11:44 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.3ms)
Completed 200 OK in 169ms (Views: 167.9ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:11:52.618978', '2018-01-06 09:11:52.618978', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:11:52.618978', '2018-01-06 09:11:52.618978', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:11:52.621347', '2018-01-06 09:11:52.621347', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:11:52.621347', '2018-01-06 09:11:52.621347', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:11:52.622928', '2018-01-06 09:11:52.622928', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:11:52.622928', '2018-01-06 09:11:52.622928', 298486374)[0m
  [1m[35m (23.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-06 01:11:52 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.6ms)
Completed 200 OK in 168ms (Views: 166.6ms | ActiveRecord: 0.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:13:01.627376', '2018-01-06 09:13:01.627376', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:13:01.627376', '2018-01-06 09:13:01.627376', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:13:01.630358', '2018-01-06 09:13:01.630358', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:13:01.630358', '2018-01-06 09:13:01.630358', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:13:01.632272', '2018-01-06 09:13:01.632272', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:13:01.632272', '2018-01-06 09:13:01.632272', 298486374)[0m
  [1m[35m (11.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-06 01:13:01 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.4ms)
Completed 200 OK in 166ms (Views: 165.0ms | ActiveRecord: 0.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:13:06 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (8.3ms)
Completed 200 OK in 224ms (Views: 223.1ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:14:20.739486', '2018-01-06 09:14:20.739486', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:14:20.739486', '2018-01-06 09:14:20.739486', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:14:20.742303', '2018-01-06 09:14:20.742303', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:14:20.742303', '2018-01-06 09:14:20.742303', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:14:20.744470', '2018-01-06 09:14:20.744470', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:14:20.744470', '2018-01-06 09:14:20.744470', 298486374)[0m
  [1m[35m (17.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-06 01:14:20 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.2ms)
Completed 200 OK in 167ms (Views: 166.0ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:15:11 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (7.4ms)
Completed 200 OK in 244ms (Views: 243.2ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:16:56.897138', '2018-01-06 09:16:56.897138', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:16:56.897138', '2018-01-06 09:16:56.897138', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:16:56.900105', '2018-01-06 09:16:56.900105', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:16:56.900105', '2018-01-06 09:16:56.900105', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:16:56.901980', '2018-01-06 09:16:56.901980', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:16:56.901980', '2018-01-06 09:16:56.901980', 298486374)[0m
  [1m[35m (17.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-06 01:16:57 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.2ms)
Completed 200 OK in 166ms (Views: 165.3ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:18:55.768998', '2018-01-06 09:18:55.768998', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:18:55.768998', '2018-01-06 09:18:55.768998', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:18:55.771234', '2018-01-06 09:18:55.771234', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:18:55.771234', '2018-01-06 09:18:55.771234', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:18:55.773305', '2018-01-06 09:18:55.773305', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:18:55.773305', '2018-01-06 09:18:55.773305', 298486374)[0m
  [1m[35m (19.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-06 01:18:55 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.2ms)
Completed 200 OK in 166ms (Views: 164.7ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:19:20 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.8ms)
Completed 200 OK in 218ms (Views: 216.6ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:20:13.167896', '2018-01-06 09:20:13.167896', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:20:13.167896', '2018-01-06 09:20:13.167896', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:20:13.170752', '2018-01-06 09:20:13.170752', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:20:13.170752', '2018-01-06 09:20:13.170752', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:20:13.172889', '2018-01-06 09:20:13.172889', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:20:13.172889', '2018-01-06 09:20:13.172889', 298486374)[0m
  [1m[35m (16.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-06 01:20:13 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.3ms)
Completed 200 OK in 180ms (Views: 178.5ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:24:44.151942', '2018-01-06 09:24:44.151942', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:24:44.151942', '2018-01-06 09:24:44.151942', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:24:44.154422', '2018-01-06 09:24:44.154422', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:24:44.154422', '2018-01-06 09:24:44.154422', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:24:44.156774', '2018-01-06 09:24:44.156774', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:24:44.156774', '2018-01-06 09:24:44.156774', 298486374)[0m
  [1m[35m (15.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-06 01:24:44 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (7.2ms)
Completed 200 OK in 174ms (Views: 173.3ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:25:30.493659', '2018-01-06 09:25:30.493659', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:25:30.493659', '2018-01-06 09:25:30.493659', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:25:30.496538', '2018-01-06 09:25:30.496538', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:25:30.496538', '2018-01-06 09:25:30.496538', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:25:30.498174', '2018-01-06 09:25:30.498174', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:25:30.498174', '2018-01-06 09:25:30.498174', 298486374)[0m
  [1m[35m (22.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-06 01:25:30 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (14.4ms)
Completed 200 OK in 206ms (Views: 205.0ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:25:43 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.6ms)
Completed 200 OK in 233ms (Views: 231.6ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:25:54.184026', '2018-01-06 09:25:54.184026', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:25:54.184026', '2018-01-06 09:25:54.184026', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:25:54.186554', '2018-01-06 09:25:54.186554', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:25:54.186554', '2018-01-06 09:25:54.186554', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:25:54.188088', '2018-01-06 09:25:54.188088', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:25:54.188088', '2018-01-06 09:25:54.188088', 298486374)[0m
  [1m[35m (23.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-06 01:25:54 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (7.2ms)
Completed 200 OK in 185ms (Views: 184.5ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:27:42.739417', '2018-01-06 09:27:42.739417', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:27:42.739417', '2018-01-06 09:27:42.739417', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:27:42.741738', '2018-01-06 09:27:42.741738', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:27:42.741738', '2018-01-06 09:27:42.741738', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:27:42.743680', '2018-01-06 09:27:42.743680', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:27:42.743680', '2018-01-06 09:27:42.743680', 298486374)[0m
  [1m[35m (13.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-06 01:27:42 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.6ms)
Completed 200 OK in 175ms (Views: 174.0ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/" for 127.0.0.1 at 2018-01-06 01:27:54 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/schadenfred/.rvm/gems/ruby-2.5.0@buttafly/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/schadenfred/.rvm/gems/ruby-2.5.0@buttafly/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb (2.2ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:28:10 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.7ms)
Completed 200 OK in 264ms (Views: 262.8ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:28:17 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (3.5ms)
Completed 200 OK in 15ms (Views: 13.6ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:28:31 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (4.1ms)
Completed 200 OK in 17ms (Views: 14.7ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:28:39 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (3.2ms)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:29:31.352936', '2018-01-06 09:29:31.352936', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-06 09:29:31.352936', '2018-01-06 09:29:31.352936', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:29:31.355888', '2018-01-06 09:29:31.355888', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-06 09:29:31.355888', '2018-01-06 09:29:31.355888', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:29:31.357801', '2018-01-06 09:29:31.357801', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-06 09:29:31.357801', '2018-01-06 09:29:31.357801', 298486374)[0m
  [1m[35m (10.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-06 01:29:31 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.3ms)
Completed 200 OK in 147ms (Views: 145.7ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:41:14 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (4.1ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.0ms)



TypeError - no implicit conversion of nil into Array:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:41:40 -0800
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (9.1ms)
Completed 500 Internal Server Error in 203ms (ActiveRecord: 0.0ms)



TypeError - no implicit conversion of nil into Array:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:43:00 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (3.3ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms)



TypeError - no implicit conversion of nil into Array:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:43:02 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (4.6ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms)



TypeError - no implicit conversion of nil into Array:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:45:43 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.8ms)
Completed 500 Internal Server Error in 197ms (ActiveRecord: 0.0ms)



TypeError - no implicit conversion of nil into Array:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:46:41 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (4.9ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms)



TypeError - no implicit conversion of nil into Array:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:46:42 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (5.3ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.0ms)



TypeError - no implicit conversion of nil into Array:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:47:17 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.9ms)
Completed 500 Internal Server Error in 196ms (ActiveRecord: 0.0ms)



TypeError - no implicit conversion of nil into Array:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:53:57 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (14.1ms)
Completed 200 OK in 292ms (Views: 290.6ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:54:44 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.5ms)
Completed 200 OK in 22ms (Views: 20.8ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-06 01:55:02 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (7.0ms)
Completed 200 OK in 26ms (Views: 24.7ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-07 22:40:42 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/buttafly"):
  

Started GET "/buttafly" for 127.0.0.1 at 2018-01-07 22:42:11 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::OriginablesController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `all' for Originable:Module:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-07 22:43:16 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::SpreadsheetsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/spreadsheets/index.html.erb within layouts/buttafly/application
  [1m[36mButtafly::Spreadsheet Load (0.2ms)[0m  [1m[34mSELECT "buttafly_spreadsheets".* FROM "buttafly_spreadsheets"[0m
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/spreadsheets/index.html.erb within layouts/buttafly/application (151.5ms)
Completed 500 Internal Server Error in 168ms (ActiveRecord: 0.9ms)



NoMethodError - undefined method `spreadsheet_path' for #<#<Class:0x00000000027d8690>:0x0000000002798ec8>
Did you mean?  stylesheet_path:

  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 06:47:06.749917', '2018-01-08 06:47:06.749917', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 06:47:06.749917', '2018-01-08 06:47:06.749917', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 06:47:06.753727', '2018-01-08 06:47:06.753727', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 06:47:06.753727', '2018-01-08 06:47:06.753727', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 06:47:06.756487', '2018-01-08 06:47:06.756487', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 06:47:06.756487', '2018-01-08 06:47:06.756487', 298486374)[0m
  [1m[35m (21.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_destroy_content
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 06:48:04.081397', '2018-01-08 06:48:04.081397', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 06:48:04.081397', '2018-01-08 06:48:04.081397', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 06:48:04.085006', '2018-01-08 06:48:04.085006', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 06:48:04.085006', '2018-01-08 06:48:04.085006', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 06:48:04.087175', '2018-01-08 06:48:04.087175', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 06:48:04.087175', '2018-01-08 06:48:04.087175', 298486374)[0m
  [1m[35m (16.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_destroy_content
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-07 23:01:23 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms)



NameError - uninitialized constant Buttafly::ContentsController::Content:

Started POST "/buttafly/__better_errors/d65b65bb5a397bd9/variables" for 127.0.0.1 at 2018-01-07 23:01:24 -0800
Started GET "/buttafly" for 127.0.0.1 at 2018-01-07 23:10:14 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (70.1ms)
Completed 500 Internal Server Error in 79ms



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-07 23:10:56 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (22.2ms)
Completed 500 Internal Server Error in 30ms



NoMethodError - undefined method `each' for nil:NilClass:

  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "buttafly_legends"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (23.0ms)[0m  [1m[35mCREATE TABLE "buttafly_legends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "data" text, "targetable_model" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "buttafly_mappings"[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "buttafly_mappings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "legend_id" integer, "originable_id" integer, "originable_type" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_mappings_on_originable_id_and_originable_type" ON "buttafly_mappings" ("originable_id", "originable_type")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "buttafly_spreadsheets"[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "buttafly_spreadsheets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "flat_file" varchar, "aasm_state" varchar, "uploader_id" integer, "imported_at" datetime, "processed_at" datetime, "row_count" integer, "mtime" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_aasm_state" ON "buttafly_spreadsheets" ("aasm_state")[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
[0m
  [1m[35m (30.5ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_imported_at" ON "buttafly_spreadsheets" ("imported_at")[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_name" ON "buttafly_spreadsheets" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
[0m
  [1m[35m (29.5ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_processed_at" ON "buttafly_spreadsheets" ("processed_at")[0m
  [1m[35m (0.3ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_uploader_id" ON "buttafly_spreadsheets" ("uploader_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "reviews"[0m
  [1m[35m (22.9ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "rating" integer, "content" varchar, "reviewer_id" integer, "wine_id" varchar, "integer" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "wineries"[0m
  [1m[35m (19.1ms)[0m  [1m[35mCREATE TABLE "wineries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "mission" varchar, "history" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "wines"[0m
  [1m[35m (18.9ms)[0m  [1m[35mCREATE TABLE "wines" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "vintage" varchar, "winery_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (24.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (16.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20180106075828)[0m
  [1m[35m (10.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20180106075759),
(20180106075729),
(20180106075709);

[0m
  [1m[35m (18.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-01-08 07:11:33.199368"], ["updated_at", "2018-01-08 07:11:33.199368"]]
  [1m[35m (8.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-07 23:12:05 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (19.5ms)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-07 23:12:40 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (8.0ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-07 23:12:42 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (20.5ms)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-07 23:17:49 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (23.5ms)
Completed 200 OK in 277ms (Views: 275.4ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-07 23:19:19 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (4.4ms)
Completed 200 OK in 20ms (Views: 18.1ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-07 23:21:04 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (15.4ms)
Completed 200 OK in 232ms (Views: 230.8ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-07 23:21:25 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (3.9ms)
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-07 23:21:33 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (3.6ms)
Completed 200 OK in 22ms (Views: 19.8ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-07 23:21:35 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (3.5ms)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-07 23:42:07 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (1.8ms)
Completed 200 OK in 16ms (Views: 15.1ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-07 23:43:53 -0800
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (5.6ms)
Completed 200 OK in 233ms (Views: 231.6ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-07 23:44:17 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (7.1ms)
Completed 200 OK in 23ms (Views: 22.3ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-07 23:48:55 -0800
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (1.1ms)
Completed 200 OK in 68ms (Views: 67.0ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 07:48:57.808601', '2018-01-08 07:48:57.808601', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 07:48:57.808601', '2018-01-08 07:48:57.808601', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 07:48:57.811638', '2018-01-08 07:48:57.811638', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 07:48:57.811638', '2018-01-08 07:48:57.811638', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 07:48:57.813751', '2018-01-08 07:48:57.813751', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 07:48:57.813751', '2018-01-08 07:48:57.813751', 298486374)[0m
  [1m[35m (26.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-07 23:48:57 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (0.7ms)
Completed 200 OK in 174ms (Views: 172.7ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 07:49:03.886751', '2018-01-08 07:49:03.886751', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 07:49:03.886751', '2018-01-08 07:49:03.886751', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 07:49:03.890700', '2018-01-08 07:49:03.890700', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 07:49:03.890700', '2018-01-08 07:49:03.890700', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 07:49:03.892503', '2018-01-08 07:49:03.892503', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 07:49:03.892503', '2018-01-08 07:49:03.892503', 298486374)[0m
  [1m[35m (28.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-07 23:49:04 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (0.7ms)
Completed 200 OK in 169ms (Views: 168.1ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 20:11:52.479847', '2018-01-08 20:11:52.479847', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 20:11:52.479847', '2018-01-08 20:11:52.479847', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 20:11:52.485119', '2018-01-08 20:11:52.485119', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 20:11:52.485119', '2018-01-08 20:11:52.485119', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 20:11:52.487739', '2018-01-08 20:11:52.487739', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 20:11:52.487739', '2018-01-08 20:11:52.487739', 298486374)[0m
  [1m[35m (15.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly/contents/index" for 127.0.0.1 at 2018-01-08 12:11:52 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (1.1ms)
Completed 200 OK in 187ms (Views: 184.7ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 12:18:05 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (21.9ms)
Completed 200 OK in 254ms (Views: 252.4ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 12:40:05 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/buttafly"):
  

  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 12:50:37 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/buttafly"):
  

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 12:51:25 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m

NameError - uninitialized constant Buttafly::ContentsController:

Started POST "/buttafly/__better_errors/eb94ed9eef7b2f62/variables" for 127.0.0.1 at 2018-01-08 12:51:26 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 20:52:30.040900', '2018-01-08 20:52:30.040900', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 20:52:30.040900', '2018-01-08 20:52:30.040900', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 20:52:30.044974', '2018-01-08 20:52:30.044974', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 20:52:30.044974', '2018-01-08 20:52:30.044974', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 20:52:30.047357', '2018-01-08 20:52:30.047357', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 20:52:30.047357', '2018-01-08 20:52:30.047357', 298486374)[0m
  [1m[35m (8.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_update_content
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 12:52:39 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)



NameError - uninitialized constant Buttafly::ContentsController::Content:

Started POST "/buttafly/__better_errors/6a3ad0c16567bee5/variables" for 127.0.0.1 at 2018-01-08 12:52:39 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 20:53:05.859833', '2018-01-08 20:53:05.859833', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 20:53:05.859833', '2018-01-08 20:53:05.859833', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 20:53:05.863616', '2018-01-08 20:53:05.863616', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 20:53:05.863616', '2018-01-08 20:53:05.863616', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 20:53:05.866339', '2018-01-08 20:53:05.866339', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 20:53:05.866339', '2018-01-08 20:53:05.866339', 298486374)[0m
  [1m[35m (16.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_show_content
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 20:53:11.474888', '2018-01-08 20:53:11.474888', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 20:53:11.474888', '2018-01-08 20:53:11.474888', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 20:53:11.481358', '2018-01-08 20:53:11.481358', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 20:53:11.481358', '2018-01-08 20:53:11.481358', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 20:53:11.486713', '2018-01-08 20:53:11.486713', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 20:53:11.486713', '2018-01-08 20:53:11.486713', 298486374)[0m
  [1m[35m (17.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_edit
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 12:53:20 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (19.9ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 12:53:49 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (6.5ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 12:53:52 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (5.5ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 12:54:00 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (17.7ms)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 12:54:33 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (4.6ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 12:54:42 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (12.3ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 12:56:43 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m

NameError - uninitialized constant Buttafly::Buttafly:

Started POST "/buttafly/__better_errors/65b7289c1ecd4c3a/variables" for 127.0.0.1 at 2018-01-08 12:56:43 -0800
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:00:26 -0800
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m

NameError - uninitialized constant Buttafly::Buttafly:

Started POST "/buttafly/__better_errors/0aa63c16092ce44c/variables" for 127.0.0.1 at 2018-01-08 13:00:27 -0800
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:02:28 -0800
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (15.9ms)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:02:35 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (4.9ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/" for 127.0.0.1 at 2018-01-08 13:02:39 -0800
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/schadenfred/.rvm/gems/ruby-2.5.0@buttafly/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/schadenfred/.rvm/gems/ruby-2.5.0@buttafly/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb (2.1ms)
Completed 200 OK in 20ms (Views: 3.5ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:02:43 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (6.0ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:03:14 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (5.9ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:03:16 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (10.9ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:03:17 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (8.8ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:03:22 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (8.2ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:03:36.413120', '2018-01-08 21:03:36.413120', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:03:36.413120', '2018-01-08 21:03:36.413120', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:03:36.416798', '2018-01-08 21:03:36.416798', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:03:36.416798', '2018-01-08 21:03:36.416798', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:03:36.418979', '2018-01-08 21:03:36.418979', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:03:36.418979', '2018-01-08 21:03:36.418979', 298486374)[0m
  [1m[35m (21.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_show_content
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:03:40 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (11.3ms)
Completed 500 Internal Server Error in 18ms



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:04:43 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (15.4ms)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:07:02 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (20.4ms)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:07:27 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
Completed 406 Not Acceptable in 30ms (ActiveRecord: 0.0ms)



ActionController::UnknownFormat - Buttafly::ContentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:07:49 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (0.8ms)
Completed 200 OK in 241ms (Views: 239.8ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:08:02 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (0.3ms)
Completed 200 OK in 19ms (Views: 17.7ms | ActiveRecord: 0.0ms)


  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:11:38.865907', '2018-01-08 21:11:38.865907', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:11:38.865907', '2018-01-08 21:11:38.865907', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:11:38.869576', '2018-01-08 21:11:38.869576', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:11:38.869576', '2018-01-08 21:11:38.869576', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:11:38.871728', '2018-01-08 21:11:38.871728', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:11:38.871728', '2018-01-08 21:11:38.871728', 298486374)[0m
  [1m[35m (14.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_destroy_content
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:11:41 -0800
Processing by Buttafly::ContentsController#index as HTML
Completed 500 Internal Server Error in 3ms



NameError - uninitialized constant Buttafly::ContentsController::Content:

Started POST "/buttafly/__better_errors/138c807fd58cb951/variables" for 127.0.0.1 at 2018-01-08 13:11:51 -0800
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:12:15 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (12.8ms)
Completed 500 Internal Server Error in 19ms



NoMethodError - undefined method `each' for nil:NilClass:

  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:12:16.986107', '2018-01-08 21:12:16.986107', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:12:16.986107', '2018-01-08 21:12:16.986107', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:12:16.990045', '2018-01-08 21:12:16.990045', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:12:16.990045', '2018-01-08 21:12:16.990045', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:12:16.992286', '2018-01-08 21:12:16.992286', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:12:16.992286', '2018-01-08 21:12:16.992286', 298486374)[0m
  [1m[35m (15.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_show_content
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:12:32 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (4.5ms)
Completed 500 Internal Server Error in 12ms



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:12:34 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (5.9ms)
Completed 500 Internal Server Error in 11ms



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:12:45 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (7.5ms)
Completed 500 Internal Server Error in 15ms



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:12:47 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (4.2ms)
Completed 500 Internal Server Error in 9ms



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:13:00 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (20.0ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:13:15 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.erb within layouts/buttafly/application (4.6ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:14:12 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (25.8ms)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:14:36.762470', '2018-01-08 21:14:36.762470', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:14:36.762470', '2018-01-08 21:14:36.762470', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:14:36.768186', '2018-01-08 21:14:36.768186', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:14:36.768186', '2018-01-08 21:14:36.768186', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:14:36.771206', '2018-01-08 21:14:36.771206', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:14:36.771206', '2018-01-08 21:14:36.771206', 298486374)[0m
  [1m[35m (8.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:14:42 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (27.4ms)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `each' for nil:NilClass:

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:15:09 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (2.7ms)
Completed 200 OK in 218ms (Views: 216.9ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:15:49 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:15:50.222062', '2018-01-08 21:15:50.222062', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:15:50.222062', '2018-01-08 21:15:50.222062', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:15:50.227069', '2018-01-08 21:15:50.227069', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:15:50.227069', '2018-01-08 21:15:50.227069', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:15:50.230392', '2018-01-08 21:15:50.230392', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:15:50.230392', '2018-01-08 21:15:50.230392', 298486374)[0m
  [1m[35m (26.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (2.1ms)
Completed 200 OK in 21ms (Views: 19.4ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:16:43 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (2.1ms)
Completed 200 OK in 17ms (Views: 16.2ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:16:50 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (10.5ms)
Completed 500 Internal Server Error in 14ms



NameError - uninitialized constant ActionView::CompiledTemplates::R:

Started POST "/buttafly/__better_errors/d063a916de58dded/variables" for 127.0.0.1 at 2018-01-08 13:16:50 -0800
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:16:51 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (9.5ms)
Completed 500 Internal Server Error in 14ms



NameError - uninitialized constant ActionView::CompiledTemplates::R:

Started POST "/buttafly/__better_errors/f1164ed1022d3646/variables" for 127.0.0.1 at 2018-01-08 13:16:51 -0800
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:16:52 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (2.7ms)
Completed 200 OK in 33ms (Views: 31.9ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:23:00 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (3.9ms)
Completed 200 OK in 21ms (Views: 19.6ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:23:03 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (4.0ms)
Completed 200 OK in 18ms (Views: 16.4ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:23:07 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (3.8ms)
Completed 200 OK in 18ms (Views: 16.9ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:23:10 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (5.4ms)
Completed 200 OK in 24ms (Views: 22.4ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:23:11 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (3.2ms)
Completed 200 OK in 16ms (Views: 14.8ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:23:14 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (4.2ms)
Completed 200 OK in 19ms (Views: 17.3ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:25:46 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.3ms)
Completed 200 OK in 31ms (Views: 29.5ms)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:25:46.975697', '2018-01-08 21:25:46.975697', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:25:46.975697', '2018-01-08 21:25:46.975697', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:25:46.979699', '2018-01-08 21:25:46.979699', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:25:46.979699', '2018-01-08 21:25:46.979699', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:25:46.982409', '2018-01-08 21:25:46.982409', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:25:46.982409', '2018-01-08 21:25:46.982409', 298486374)[0m
  [1m[35m (15.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:25:52 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (7.4ms)
Completed 200 OK in 41ms (Views: 39.6ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:25:53.437869', '2018-01-08 21:25:53.437869', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:25:53.437869', '2018-01-08 21:25:53.437869', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:25:53.442933', '2018-01-08 21:25:53.442933', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:25:53.442933', '2018-01-08 21:25:53.442933', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:25:53.446095', '2018-01-08 21:25:53.446095', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:25:53.446095', '2018-01-08 21:25:53.446095', 298486374)[0m
  [1m[35m (17.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_show_content
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:25:58 -0800
Processing by Buttafly::ContentsController#index as HTML
Completed 500 Internal Server Error in 18ms



NameError - uninitialized constant Buttafly::ContentsController::Content:

Started POST "/buttafly/__better_errors/3ae21a2857fb3fba/variables" for 127.0.0.1 at 2018-01-08 13:25:58 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:25:59.362011', '2018-01-08 21:25:59.362011', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:25:59.362011', '2018-01-08 21:25:59.362011', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:25:59.366988', '2018-01-08 21:25:59.366988', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:25:59.366988', '2018-01-08 21:25:59.366988', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:25:59.370033', '2018-01-08 21:25:59.370033', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:25:59.370033', '2018-01-08 21:25:59.370033', 298486374)[0m
  [1m[35m (18.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_create_content
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:26:05.039696', '2018-01-08 21:26:05.039696', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:26:05.039696', '2018-01-08 21:26:05.039696', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:26:05.049990', '2018-01-08 21:26:05.049990', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:26:05.049990', '2018-01-08 21:26:05.049990', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:26:05.053500', '2018-01-08 21:26:05.053500', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:26:05.053500', '2018-01-08 21:26:05.053500', 298486374)[0m
  [1m[35m (14.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:26:05 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (10.9ms)
Completed 200 OK in 39ms (Views: 37.3ms)


  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:26:55 -0800
  
ActionController::RoutingError (No route matches [GET] "/buttafly"):
  

Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 13:27:00 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (4.8ms)
Completed 200 OK in 22ms (Views: 20.3ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:27:02.544572', '2018-01-08 21:27:02.544572', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:27:02.544572', '2018-01-08 21:27:02.544572', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:27:02.550092', '2018-01-08 21:27:02.550092', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:27:02.550092', '2018-01-08 21:27:02.550092', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:27:02.553513', '2018-01-08 21:27:02.553513', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:27:02.553513', '2018-01-08 21:27:02.553513', 298486374)[0m
  [1m[35m (18.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.3ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_update_content
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:44:32.432496', '2018-01-08 21:44:32.432496', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:44:32.432496', '2018-01-08 21:44:32.432496', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:44:32.436274', '2018-01-08 21:44:32.436274', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:44:32.436274', '2018-01-08 21:44:32.436274', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:44:32.438501', '2018-01-08 21:44:32.438501', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:44:32.438501', '2018-01-08 21:44:32.438501', 298486374)[0m
  [1m[35m (15.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
Buttafly::Mapping::db: test_0003_associations
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
Buttafly::Mapping::db: test_0001_columns & types
------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Buttafly::Mapping::db: test_0002_indexes
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
Review::associations: test_0001_belongs to
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CanAccessHomeTest: test_homepage_has_content
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:44:37.406152', '2018-01-08 21:44:37.406152', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:44:37.406152', '2018-01-08 21:44:37.406152', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:44:37.410777', '2018-01-08 21:44:37.410777', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:44:37.410777', '2018-01-08 21:44:37.410777', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:44:37.414370', '2018-01-08 21:44:37.414370', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:44:37.414370', '2018-01-08 21:44:37.414370', 298486374)[0m
  [1m[35m (22.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Winery::associations: test_0001_has many
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
Buttafly::Legend::db: test_0001_columns & types
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
Buttafly::Mapping::db: test_0001_columns & types
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
Buttafly::Mapping::db: test_0003_associations
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Buttafly::Mapping::db: test_0002_indexes
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
Buttafly::Mapping: test_0001_    Then { assert_kind_of Class, Mapping }

------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
Review::associations: test_0001_belongs to
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_create_content
------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:45:04.525047', '2018-01-08 21:45:04.525047', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:45:04.525047', '2018-01-08 21:45:04.525047', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:45:04.528684', '2018-01-08 21:45:04.528684', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:45:04.528684', '2018-01-08 21:45:04.528684', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:45:04.530868', '2018-01-08 21:45:04.530868', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:45:04.530868', '2018-01-08 21:45:04.530868', 298486374)[0m
  [1m[35m (16.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CanAccessHomeTest: test_homepage_has_content
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:45:43.967836', '2018-01-08 21:45:43.967836', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:45:43.967836', '2018-01-08 21:45:43.967836', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:45:43.971569', '2018-01-08 21:45:43.971569', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:45:43.971569', '2018-01-08 21:45:43.971569', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:45:43.973757', '2018-01-08 21:45:43.973757', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:45:43.973757', '2018-01-08 21:45:43.973757', 298486374)[0m
  [1m[35m (22.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UploadSpreadhsheet Feature Test: test_0001_the test is sound
------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:45:50.620780', '2018-01-08 21:45:50.620780', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:45:50.620780', '2018-01-08 21:45:50.620780', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:45:50.624831', '2018-01-08 21:45:50.624831', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:45:50.624831', '2018-01-08 21:45:50.624831', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:45:50.627045', '2018-01-08 21:45:50.627045', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:45:50.627045', '2018-01-08 21:45:50.627045', 298486374)[0m
  [1m[35m (21.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UploadSpreadhsheet Feature Test: test_0001_the test is sound
------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:47:58.648719', '2018-01-08 21:47:58.648719', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:47:58.648719', '2018-01-08 21:47:58.648719', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:47:58.652160', '2018-01-08 21:47:58.652160', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:47:58.652160', '2018-01-08 21:47:58.652160', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:47:58.654994', '2018-01-08 21:47:58.654994', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:47:58.654994', '2018-01-08 21:47:58.654994', 298486374)[0m
  [1m[35m (20.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UploadSpreadhsheet Feature Test: test_0001_the test is sound
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:48:21.170540', '2018-01-08 21:48:21.170540', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:48:21.170540', '2018-01-08 21:48:21.170540', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:48:21.175297', '2018-01-08 21:48:21.175297', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:48:21.175297', '2018-01-08 21:48:21.175297', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:48:21.178057', '2018-01-08 21:48:21.178057', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:48:21.178057', '2018-01-08 21:48:21.178057', 298486374)[0m
  [1m[35m (47.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UploadSpreadhsheet Feature Test: test_0001_the test is sound
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:48:35.454233', '2018-01-08 21:48:35.454233', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:48:35.454233', '2018-01-08 21:48:35.454233', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:48:35.458493', '2018-01-08 21:48:35.458493', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:48:35.458493', '2018-01-08 21:48:35.458493', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:48:35.462525', '2018-01-08 21:48:35.462525', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:48:35.462525', '2018-01-08 21:48:35.462525', 298486374)[0m
  [1m[35m (9.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CanAccessHomeTest: test_homepage_has_content
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:49:34.725139', '2018-01-08 21:49:34.725139', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:49:34.725139', '2018-01-08 21:49:34.725139', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:49:34.728553', '2018-01-08 21:49:34.728553', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:49:34.728553', '2018-01-08 21:49:34.728553', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:49:34.730717', '2018-01-08 21:49:34.730717', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:49:34.730717', '2018-01-08 21:49:34.730717', 298486374)[0m
  [1m[35m (20.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UploadSpreadhsheet Feature Test: test_0001_the test is sound
------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:49:40.404231', '2018-01-08 21:49:40.404231', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:49:40.404231', '2018-01-08 21:49:40.404231', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:49:40.408150', '2018-01-08 21:49:40.408150', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:49:40.408150', '2018-01-08 21:49:40.408150', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:49:40.410795', '2018-01-08 21:49:40.410795', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:49:40.410795', '2018-01-08 21:49:40.410795', 298486374)[0m
  [1m[35m (17.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
UploadSpreadsheet Feature Test: test_0001_the test is sound
-----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:50:39.120106', '2018-01-08 21:50:39.120106', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:50:39.120106', '2018-01-08 21:50:39.120106', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:50:39.124512', '2018-01-08 21:50:39.124512', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:50:39.124512', '2018-01-08 21:50:39.124512', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:50:39.127115', '2018-01-08 21:50:39.127115', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:50:39.127115', '2018-01-08 21:50:39.127115', 298486374)[0m
  [1m[35m (15.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Buttafly::Mapping::db: test_0002_indexes
----------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
Buttafly::Mapping::db: test_0003_associations
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
Buttafly::Mapping::db: test_0001_columns & types
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
User: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Winery::associations: test_0001_has many
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------------
Buttafly::Spreadsheet::originable? must be true: test_0001_    Then { subject.originable?.must_equal true}

-----------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
Buttafly::Spreadsheet::associations: test_0001_belongs to
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
UploadSpreadsheet Feature Test: test_0001_the test is sound
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:52:32.951186', '2018-01-08 21:52:32.951186', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:52:32.951186', '2018-01-08 21:52:32.951186', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:52:32.955737', '2018-01-08 21:52:32.955737', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:52:32.955737', '2018-01-08 21:52:32.955737', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:52:32.958393', '2018-01-08 21:52:32.958393', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:52:32.958393', '2018-01-08 21:52:32.958393', 298486374)[0m
  [1m[35m (35.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------------
Buttafly::Spreadsheet::originable? must be true: test_0001_    Then { subject.originable?.must_equal true}

-----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Wine::associations: test_0001_belongs to
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
Buttafly::Mapping::db: test_0001_columns & types
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Buttafly::Mapping::db: test_0002_indexes
----------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
Buttafly::Mapping::db: test_0003_associations
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
Buttafly::Spreadsheet::associations: test_0001_belongs to
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
Buttafly::Legend::associations: test_0001_belongs to
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
Buttafly::Spreadsheet::db: test_0001_columns & types
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
Review::associations: test_0001_belongs to
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
Buttafly::Spreadsheet: test_0001_    Then { assert_kind_of Class, Spreadsheet }

--------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
Buttafly::Mapping: test_0001_    Then { assert_kind_of Class, Mapping }

------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
User: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
Buttafly::Legend::db: test_0001_columns & types
-----------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
Buttafly::Legend: test_0001_    Then { assert_kind_of Module, Buttafly }

-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
UploadSpreadsheet Feature Test: test_0001_the test is sound
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:54:58.549905', '2018-01-08 21:54:58.549905', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:54:58.549905', '2018-01-08 21:54:58.549905', 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:54:58.553800', '2018-01-08 21:54:58.553800', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:54:58.553800', '2018-01-08 21:54:58.553800', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:54:58.556721', '2018-01-08 21:54:58.556721', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:54:58.556721', '2018-01-08 21:54:58.556721', 298486374)[0m
  [1m[35m (14.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Wine::associations: test_0001_belongs to
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Buttafly::Mapping::db: test_0002_indexes
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
Buttafly::Mapping::db: test_0001_columns & types
------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
Buttafly::Mapping::db: test_0003_associations
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
User: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:58:25.032858', '2018-01-08 21:58:25.032858', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:58:25.032858', '2018-01-08 21:58:25.032858', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:58:25.037266', '2018-01-08 21:58:25.037266', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:58:25.037266', '2018-01-08 21:58:25.037266', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:58:25.041026', '2018-01-08 21:58:25.041026', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:58:25.041026', '2018-01-08 21:58:25.041026', 298486374)[0m
  [1m[35m (21.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
User: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
Review::associations: test_0001_belongs to
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Buttafly::Mapping::db: test_0002_indexes
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
Buttafly::Mapping::db: test_0001_columns & types
------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
Buttafly::Mapping::db: test_0003_associations
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
Buttafly::Mapping: test_0001_    Then { assert_kind_of Class, Mapping }

------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:59:58.795627', '2018-01-08 21:59:58.795627', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 21:59:58.795627', '2018-01-08 21:59:58.795627', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:59:58.799738', '2018-01-08 21:59:58.799738', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 21:59:58.799738', '2018-01-08 21:59:58.799738', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:59:58.802013', '2018-01-08 21:59:58.802013', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 21:59:58.802013', '2018-01-08 21:59:58.802013', 298486374)[0m
  [1m[35m (16.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
UploadSpreadsheet Feature Test: test_0001_the test is sound
-----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:02:53.325391', '2018-01-08 22:02:53.325391', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:02:53.325391', '2018-01-08 22:02:53.325391', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:02:53.328681', '2018-01-08 22:02:53.328681', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:02:53.328681', '2018-01-08 22:02:53.328681', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:02:53.330961', '2018-01-08 22:02:53.330961', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:02:53.330961', '2018-01-08 22:02:53.330961', 298486374)[0m
  [1m[35m (22.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Wine::associations: test_0001_belongs to
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
Review::associations: test_0001_belongs to
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------------
Buttafly::Spreadsheet::originable? must be true: test_0001_    Then { subject.originable?.must_equal true}

-----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
UploadSpreadsheet Feature Test: test_0001_the test is sound
-----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:03:07.400938', '2018-01-08 22:03:07.400938', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:03:07.400938', '2018-01-08 22:03:07.400938', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:03:07.404721', '2018-01-08 22:03:07.404721', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:03:07.404721', '2018-01-08 22:03:07.404721', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:03:07.406895', '2018-01-08 22:03:07.406895', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:03:07.406895', '2018-01-08 22:03:07.406895', 298486374)[0m
  [1m[35m (17.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
UploadSpreadsheet Feature Test: test_0001_the test is sound
-----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:06:14.971211', '2018-01-08 22:06:14.971211', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:06:14.971211', '2018-01-08 22:06:14.971211', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:06:14.975939', '2018-01-08 22:06:14.975939', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:06:14.975939', '2018-01-08 22:06:14.975939', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:06:14.978623', '2018-01-08 22:06:14.978623', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:06:14.978623', '2018-01-08 22:06:14.978623', 298486374)[0m
  [1m[35m (16.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
Buttafly::Legend: test_0001_    Then { assert_kind_of Module, Buttafly }

-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
Buttafly::Spreadsheet::db: test_0001_columns & types
----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
UploadSpreadsheet Feature Test: test_0001_the test is sound
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:08:40.297616', '2018-01-08 22:08:40.297616', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:08:40.297616', '2018-01-08 22:08:40.297616', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:08:40.301563', '2018-01-08 22:08:40.301563', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:08:40.301563', '2018-01-08 22:08:40.301563', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:08:40.304129', '2018-01-08 22:08:40.304129', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:08:40.304129', '2018-01-08 22:08:40.304129', 298486374)[0m
  [1m[35m (8.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
UploadSpreadsheet Feature Test: test_0001_the test is sound
-----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:10:46.237538', '2018-01-08 22:10:46.237538', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:10:46.237538', '2018-01-08 22:10:46.237538', 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:10:46.241677', '2018-01-08 22:10:46.241677', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:10:46.241677', '2018-01-08 22:10:46.241677', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:10:46.244532', '2018-01-08 22:10:46.244532', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:10:46.244532', '2018-01-08 22:10:46.244532', 298486374)[0m
  [1m[35m (27.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
Buttafly::Legend::db: test_0001_columns & types
-----------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
User: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
Buttafly::Legend::associations: test_0001_belongs to
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_create_content
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:10:52.727241', '2018-01-08 22:10:52.727241', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:10:52.727241', '2018-01-08 22:10:52.727241', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:10:52.731800', '2018-01-08 22:10:52.731800', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:10:52.731800', '2018-01-08 22:10:52.731800', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:10:52.734653', '2018-01-08 22:10:52.734653', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:10:52.734653', '2018-01-08 22:10:52.734653', 298486374)[0m
  [1m[35m (11.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_new
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:11:53.358426', '2018-01-08 22:11:53.358426', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:11:53.358426', '2018-01-08 22:11:53.358426', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:11:53.361994', '2018-01-08 22:11:53.361994', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:11:53.361994', '2018-01-08 22:11:53.361994', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:11:53.364230', '2018-01-08 22:11:53.364230', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:11:53.364230', '2018-01-08 22:11:53.364230', 298486374)[0m
  [1m[35m (14.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------------
Buttafly::Spreadsheet::originable? must be true: test_0001_    Then { subject.originable?.must_equal true}

-----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
Buttafly::Legend::db: test_0001_columns & types
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
Buttafly::Spreadsheet::associations: test_0001_belongs to
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
UploadSpreadsheet Feature Test: test_0001_the test is sound
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:12:08.319878', '2018-01-08 22:12:08.319878', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:12:08.319878', '2018-01-08 22:12:08.319878', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:12:08.323656', '2018-01-08 22:12:08.323656', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:12:08.323656', '2018-01-08 22:12:08.323656', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:12:08.326308', '2018-01-08 22:12:08.326308', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:12:08.326308', '2018-01-08 22:12:08.326308', 298486374)[0m
  [1m[35m (20.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
Buttafly::Legend::associations: test_0001_belongs to
----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
Buttafly::Legend::db: test_0001_columns & types
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
Buttafly::Spreadsheet: test_0001_    Then { assert_kind_of Class, Spreadsheet }

--------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------------
Buttafly::Spreadsheet::originable? must be true: test_0001_    Then { subject.originable?.must_equal true}

-----------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
Buttafly::Spreadsheet::db: test_0001_columns & types
----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
Buttafly::Mapping: test_0001_    Then { assert_kind_of Class, Mapping }

------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
Buttafly::Legend: test_0001_    Then { assert_kind_of Module, Buttafly }

-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
User: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
UploadSpreadsheet Feature Test: test_0001_the test is sound
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:12:32.484068', '2018-01-08 22:12:32.484068', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:12:32.484068', '2018-01-08 22:12:32.484068', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:12:32.488448', '2018-01-08 22:12:32.488448', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:12:32.488448', '2018-01-08 22:12:32.488448', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:12:32.491064', '2018-01-08 22:12:32.491064', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:12:32.491064', '2018-01-08 22:12:32.491064', 298486374)[0m
  [1m[35m (16.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------------
Buttafly::Spreadsheet::originable? must be true: test_0001_    Then { subject.originable?.must_equal true}

-----------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_index
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:12:45.322174', '2018-01-08 22:12:45.322174', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:12:45.322174', '2018-01-08 22:12:45.322174', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:12:45.326753', '2018-01-08 22:12:45.326753', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:12:45.326753', '2018-01-08 22:12:45.326753', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:12:45.329565', '2018-01-08 22:12:45.329565', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:12:45.329565', '2018-01-08 22:12:45.329565', 298486374)[0m
  [1m[35m (16.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Wine::associations: test_0001_belongs to
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Winery::associations: test_0001_has many
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
Buttafly::Mapping: test_0001_    Then { assert_kind_of Class, Mapping }

------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
User: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
Buttafly::Spreadsheet::associations: test_0001_belongs to
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
Buttafly::Legend::db: test_0001_columns & types
-----------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Buttafly::Mapping::db: test_0002_indexes
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
Buttafly::Mapping::db: test_0001_columns & types
------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
Buttafly::Mapping::db: test_0003_associations
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_destroy_content
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:14:07.697550', '2018-01-08 22:14:07.697550', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:14:07.697550', '2018-01-08 22:14:07.697550', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:14:07.701245', '2018-01-08 22:14:07.701245', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:14:07.701245', '2018-01-08 22:14:07.701245', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:14:07.703815', '2018-01-08 22:14:07.703815', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:14:07.703815', '2018-01-08 22:14:07.703815', 298486374)[0m
  [1m[35m (16.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
Review::associations: test_0001_belongs to
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
Buttafly::Spreadsheet::associations: test_0001_belongs to
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_new
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:18:14.897273', '2018-01-08 22:18:14.897273', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:18:14.897273', '2018-01-08 22:18:14.897273', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:18:14.899965', '2018-01-08 22:18:14.899965', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:18:14.899965', '2018-01-08 22:18:14.899965', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:18:14.901637', '2018-01-08 22:18:14.901637', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:18:14.901637', '2018-01-08 22:18:14.901637', 298486374)[0m
  [1m[35m (35.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_destroy_content
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:22:07.968522', '2018-01-08 22:22:07.968522', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:22:07.968522', '2018-01-08 22:22:07.968522', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:22:07.972610', '2018-01-08 22:22:07.972610', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:22:07.972610', '2018-01-08 22:22:07.972610', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:22:07.975103', '2018-01-08 22:22:07.975103', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:22:07.975103', '2018-01-08 22:22:07.975103', 298486374)[0m
  [1m[35m (32.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
Buttafly::Spreadsheet::associations: test_0001_belongs to
---------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
Buttafly::Spreadsheet::db: test_0001_columns & types
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Winery::associations: test_0001_has many
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
User: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Wine::associations: test_0001_belongs to
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
Buttafly::Spreadsheet: test_0001_    Then { assert_kind_of Class, Spreadsheet }

--------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
Buttafly::Mapping: test_0001_    Then { assert_kind_of Class, Mapping }

------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
Buttafly::Legend::associations: test_0001_belongs to
----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
Buttafly::Mapping::db: test_0003_associations
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Buttafly::Mapping::db: test_0002_indexes
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
Buttafly::Mapping::db: test_0001_columns & types
------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_update_content
------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:22:44.401322', '2018-01-08 22:22:44.401322', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:22:44.401322', '2018-01-08 22:22:44.401322', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:22:44.405492', '2018-01-08 22:22:44.405492', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:22:44.405492', '2018-01-08 22:22:44.405492', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:22:44.408071', '2018-01-08 22:22:44.408071', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:22:44.408071', '2018-01-08 22:22:44.408071', 298486374)[0m
  [1m[35m (15.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
Buttafly::Spreadsheet::associations: test_0001_belongs to
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Winery::associations: test_0001_has many
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
User: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
Buttafly::Legend: test_0001_    Then { assert_kind_of Module, Buttafly }

-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
Buttafly::Legend::associations: test_0001_belongs to
----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
Review::associations: test_0001_belongs to
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Wine::associations: test_0001_belongs to
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
Buttafly::Mapping::db: test_0001_columns & types
------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Buttafly::Mapping::db: test_0002_indexes
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
Buttafly::Mapping::db: test_0003_associations
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
Buttafly::Mapping: test_0001_    Then { assert_kind_of Class, Mapping }

------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_create_content
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:22:58.005251', '2018-01-08 22:22:58.005251', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:22:58.005251', '2018-01-08 22:22:58.005251', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:22:58.009864', '2018-01-08 22:22:58.009864', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:22:58.009864', '2018-01-08 22:22:58.009864', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:22:58.012508', '2018-01-08 22:22:58.012508', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:22:58.012508', '2018-01-08 22:22:58.012508', 298486374)[0m
  [1m[35m (20.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
Review::associations: test_0001_belongs to
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
Buttafly::Spreadsheet: test_0001_    Then { assert_kind_of Class, Spreadsheet }

--------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------------
Buttafly::Spreadsheet::originable? must be true: test_0001_    Then { subject.originable?.must_equal true}

-----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
Buttafly::Spreadsheet::associations: test_0001_belongs to
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
Buttafly::Legend::associations: test_0001_belongs to
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
Buttafly::Spreadsheet::db: test_0001_columns & types
----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
Buttafly::Legend::db: test_0001_columns & types
-----------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_show_content
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:24:16.036282', '2018-01-08 22:24:16.036282', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:24:16.036282', '2018-01-08 22:24:16.036282', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:24:16.039886', '2018-01-08 22:24:16.039886', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:24:16.039886', '2018-01-08 22:24:16.039886', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:24:16.042115', '2018-01-08 22:24:16.042115', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:24:16.042115', '2018-01-08 22:24:16.042115', 298486374)[0m
  [1m[35m (16.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
Review::associations: test_0001_belongs to
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
Buttafly::Mapping: test_0001_    Then { assert_kind_of Class, Mapping }

------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
Buttafly::Legend::db: test_0001_columns & types
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------------
Buttafly::Spreadsheet::originable? must be true: test_0001_    Then { subject.originable?.must_equal true}

-----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
Buttafly::Legend: test_0001_    Then { assert_kind_of Module, Buttafly }

-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Winery::associations: test_0001_has many
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
User: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
Buttafly::Legend::associations: test_0001_belongs to
----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
Buttafly::Spreadsheet::associations: test_0001_belongs to
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Wine::associations: test_0001_belongs to
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Buttafly::Mapping::db: test_0002_indexes
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
Buttafly::Mapping::db: test_0001_columns & types
------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
Buttafly::Mapping::db: test_0003_associations
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
Buttafly::Spreadsheet: test_0001_    Then { assert_kind_of Class, Spreadsheet }

--------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
Buttafly::Spreadsheet::db: test_0001_columns & types
----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_destroy_content
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:25:13.181149', '2018-01-08 22:25:13.181149', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:25:13.181149', '2018-01-08 22:25:13.181149', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:25:13.185451', '2018-01-08 22:25:13.185451', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:25:13.185451', '2018-01-08 22:25:13.185451', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:25:13.187968', '2018-01-08 22:25:13.187968', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:25:13.187968', '2018-01-08 22:25:13.187968', 298486374)[0m
  [1m[35m (16.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
Buttafly::Spreadsheet::db: test_0001_columns & types
----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------------
Buttafly::Spreadsheet::originable? must be true: test_0001_    Then { subject.originable?.must_equal true}

-----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
Buttafly::Legend::associations: test_0001_belongs to
----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
Buttafly::Mapping::db: test_0001_columns & types
------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
Buttafly::Mapping::db: test_0003_associations
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Buttafly::Mapping::db: test_0002_indexes
----------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
Buttafly::Legend: test_0001_    Then { assert_kind_of Module, Buttafly }

-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
Review::associations: test_0001_belongs to
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
Buttafly::Mapping: test_0001_    Then { assert_kind_of Class, Mapping }

------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
Buttafly::Legend::db: test_0001_columns & types
-----------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Wine::associations: test_0001_belongs to
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Winery::associations: test_0001_has many
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
Buttafly::Spreadsheet::associations: test_0001_belongs to
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
Buttafly::Spreadsheet: test_0001_    Then { assert_kind_of Class, Spreadsheet }

--------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
User: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_destroy_content
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:26:31.340697', '2018-01-08 22:26:31.340697', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:26:31.340697', '2018-01-08 22:26:31.340697', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:26:31.342986', '2018-01-08 22:26:31.342986', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:26:31.342986', '2018-01-08 22:26:31.342986', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:26:31.345266', '2018-01-08 22:26:31.345266', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:26:31.345266', '2018-01-08 22:26:31.345266', 298486374)[0m
  [1m[35m (19.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_destroy_content
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:26:56.876415', '2018-01-08 22:26:56.876415', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:26:56.876415', '2018-01-08 22:26:56.876415', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:26:56.879410', '2018-01-08 22:26:56.879410', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:26:56.879410', '2018-01-08 22:26:56.879410', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:26:56.883110', '2018-01-08 22:26:56.883110', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:26:56.883110', '2018-01-08 22:26:56.883110', 298486374)[0m
  [1m[35m (16.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_edit
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:27:38.133249', '2018-01-08 22:27:38.133249', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:27:38.133249', '2018-01-08 22:27:38.133249', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:27:38.137642', '2018-01-08 22:27:38.137642', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:27:38.137642', '2018-01-08 22:27:38.137642', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:27:38.140157', '2018-01-08 22:27:38.140157', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:27:38.140157', '2018-01-08 22:27:38.140157', 298486374)[0m
  [1m[35m (11.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_create_content
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:28:06.721714', '2018-01-08 22:28:06.721714', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:28:06.721714', '2018-01-08 22:28:06.721714', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:28:06.724147', '2018-01-08 22:28:06.724147', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:28:06.724147', '2018-01-08 22:28:06.724147', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:28:06.725717', '2018-01-08 22:28:06.725717', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:28:06.725717', '2018-01-08 22:28:06.725717', 298486374)[0m
  [1m[35m (23.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_edit
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:29:02.532001', '2018-01-08 22:29:02.532001', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:29:02.532001', '2018-01-08 22:29:02.532001', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:29:02.535096', '2018-01-08 22:29:02.535096', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:29:02.535096', '2018-01-08 22:29:02.535096', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:29:02.537026', '2018-01-08 22:29:02.537026', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:29:02.537026', '2018-01-08 22:29:02.537026', 298486374)[0m
  [1m[35m (23.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_edit
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:29:35.600586', '2018-01-08 22:29:35.600586', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:29:35.600586', '2018-01-08 22:29:35.600586', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:29:35.603228', '2018-01-08 22:29:35.603228', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:29:35.603228', '2018-01-08 22:29:35.603228', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:29:35.605075', '2018-01-08 22:29:35.605075', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:29:35.605075', '2018-01-08 22:29:35.605075', 298486374)[0m
  [1m[35m (17.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_show_content
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:30:24.581433', '2018-01-08 22:30:24.581433', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:30:24.581433', '2018-01-08 22:30:24.581433', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:30:24.583838', '2018-01-08 22:30:24.583838', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:30:24.583838', '2018-01-08 22:30:24.583838', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:30:24.585682', '2018-01-08 22:30:24.585682', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:30:24.585682', '2018-01-08 22:30:24.585682', 298486374)[0m
  [1m[35m (17.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
Buttafly::ContentsControllerTest: test_should_get_new
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:34:57.863832', '2018-01-08 22:34:57.863832', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:34:57.863832', '2018-01-08 22:34:57.863832', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:34:57.868151', '2018-01-08 22:34:57.868151', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:34:57.868151', '2018-01-08 22:34:57.868151', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:34:57.870693', '2018-01-08 22:34:57.870693', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:34:57.870693', '2018-01-08 22:34:57.870693', 298486374)[0m
  [1m[35m (16.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Wine::associations: test_0001_belongs to
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
Buttafly::Mapping: test_0001_    Then { assert_kind_of Class, Mapping }

------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
Buttafly::Spreadsheet::db: test_0001_columns & types
----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
Buttafly::Spreadsheet::associations: test_0001_belongs to
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
Buttafly::Legend::db: test_0001_columns & types
-----------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
User: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
Review::associations: test_0001_belongs to
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Winery::associations: test_0001_has many
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
Buttafly::Spreadsheet: test_0001_    Then { assert_kind_of Class, Spreadsheet }

--------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
Buttafly::Legend::associations: test_0001_belongs to
----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
Buttafly::Mapping::db: test_0003_associations
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
Buttafly::Mapping::db: test_0001_columns & types
------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
Buttafly::Mapping::db: test_0002_indexes
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
Buttafly::Legend: test_0001_    Then { assert_kind_of Module, Buttafly }

-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------------
Buttafly::Spreadsheet::originable? must be true: test_0001_    Then { subject.originable?.must_equal true}

-----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:35:18.659443', '2018-01-08 22:35:18.659443', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:35:18.659443', '2018-01-08 22:35:18.659443', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:35:18.662826', '2018-01-08 22:35:18.662826', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:35:18.662826', '2018-01-08 22:35:18.662826', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:35:18.665005', '2018-01-08 22:35:18.665005', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:35:18.665005', '2018-01-08 22:35:18.665005', 298486374)[0m
  [1m[35m (10.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
GetSome Feature Test: test_0001_the test is sound
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:35:23.464108', '2018-01-08 22:35:23.464108', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:35:23.464108', '2018-01-08 22:35:23.464108', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:35:23.468472', '2018-01-08 22:35:23.468472', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:35:23.468472', '2018-01-08 22:35:23.468472', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:35:23.471640', '2018-01-08 22:35:23.471640', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:35:23.471640', '2018-01-08 22:35:23.471640', 298486374)[0m
  [1m[35m (10.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
GetSome Feature Test: test_0001_the test is sound
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:35:58.722053', '2018-01-08 22:35:58.722053', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:35:58.722053', '2018-01-08 22:35:58.722053', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:35:58.725780', '2018-01-08 22:35:58.725780', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:35:58.725780', '2018-01-08 22:35:58.725780', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:35:58.729480', '2018-01-08 22:35:58.729480', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:35:58.729480', '2018-01-08 22:35:58.729480', 298486374)[0m
  [1m[35m (17.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
GetSome Feature Test: test_0001_the test is sound
-------------------------------------------------
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 14:35:58 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.5ms)
Completed 200 OK in 180ms (Views: 179.2ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:36:08.536386', '2018-01-08 22:36:08.536386', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:36:08.536386', '2018-01-08 22:36:08.536386', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:36:08.540530', '2018-01-08 22:36:08.540530', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:36:08.540530', '2018-01-08 22:36:08.540530', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:36:08.543262', '2018-01-08 22:36:08.543262', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:36:08.543262', '2018-01-08 22:36:08.543262', 298486374)[0m
  [1m[35m (24.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
GetSome Feature Test: test_0001_the test is sound
-------------------------------------------------
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 14:36:08 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (7.2ms)
Completed 200 OK in 182ms (Views: 180.2ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:39:21.033735', '2018-01-08 22:39:21.033735', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:39:21.033735', '2018-01-08 22:39:21.033735', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:39:21.038471', '2018-01-08 22:39:21.038471', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:39:21.038471', '2018-01-08 22:39:21.038471', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:39:21.041321', '2018-01-08 22:39:21.041321', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:39:21.041321', '2018-01-08 22:39:21.041321', 298486374)[0m
  [1m[35m (14.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
GetSome Feature Test: test_0001_the test is sound
-------------------------------------------------
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 14:39:21 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.3ms)
Completed 200 OK in 234ms (Views: 232.5ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:39:26.230280', '2018-01-08 22:39:26.230280', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:39:26.230280', '2018-01-08 22:39:26.230280', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:39:26.235607', '2018-01-08 22:39:26.235607', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:39:26.235607', '2018-01-08 22:39:26.235607', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:39:26.238182', '2018-01-08 22:39:26.238182', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:39:26.238182', '2018-01-08 22:39:26.238182', 298486374)[0m
  [1m[35m (13.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
Buttafly::Spreadsheet::associations: test_0001_belongs to
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
GetSome Feature Test: test_0001_the test is sound
-------------------------------------------------
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 14:39:26 -0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (5.4ms)
Completed 200 OK in 207ms (Views: 206.3ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:40:21.225512', '2018-01-08 22:40:21.225512', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:40:21.225512', '2018-01-08 22:40:21.225512', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:40:21.229557', '2018-01-08 22:40:21.229557', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:40:21.229557', '2018-01-08 22:40:21.229557', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:40:21.233074', '2018-01-08 22:40:21.233074', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:40:21.233074', '2018-01-08 22:40:21.233074', 298486374)[0m
  [1m[35m (16.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
Buttafly::Spreadsheet: test_0001_    Then { assert_kind_of Class, Spreadsheet }

--------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
GetSome Feature Test: test_0001_the test is sound
-------------------------------------------------
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 14:40:21 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (8.6ms)
Completed 200 OK in 226ms (Views: 224.5ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:54:51.406459', '2018-01-08 22:54:51.406459', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:54:51.406459', '2018-01-08 22:54:51.406459', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:54:51.408862', '2018-01-08 22:54:51.408862', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:54:51.408862', '2018-01-08 22:54:51.408862', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:54:51.411300', '2018-01-08 22:54:51.411300', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:54:51.411300', '2018-01-08 22:54:51.411300', 298486374)[0m
  [1m[35m (9.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_update_content
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "buttafly_spreadsheets"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:56:38.374252', '2018-01-08 22:56:38.374252', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_spreadsheets" ("name", "flat_file", "aasm_state", "uploader_id", "imported_at", "processed_at", "mtime", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 1, '2018-01-05 19:19:13', NULL, 1, '2018-01-08 22:56:38.374252', '2018-01-08 22:56:38.374252', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_mappings"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:56:38.378393', '2018-01-08 22:56:38.378393', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_mappings" ("legend_id", "originable_id", "originable_type", "created_at", "updated_at", "id") VALUES (1, 1, 'MyString', '2018-01-08 22:56:38.378393', '2018-01-08 22:56:38.378393', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "buttafly_legends"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:56:38.380036', '2018-01-08 22:56:38.380036', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "buttafly_legends" ("data", "created_at", "updated_at", "id") VALUES ('MyText', '2018-01-08 22:56:38.380036', '2018-01-08 22:56:38.380036', 298486374)[0m
  [1m[35m (21.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
Buttafly::ContentsControllerTest: test_should_destroy_content
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (39.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (23.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateButtaflySpreadsheets (20180106031913)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "buttafly_spreadsheets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "flat_file" varchar, "aasm_state" varchar, "uploader_id" integer, "imported_at" datetime, "processed_at" datetime, "row_count" integer, "mtime" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_uploader_id" ON "buttafly_spreadsheets" ("uploader_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_name" ON "buttafly_spreadsheets" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_imported_at" ON "buttafly_spreadsheets" ("imported_at")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_processed_at" ON "buttafly_spreadsheets" ("processed_at")[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_aasm_state" ON "buttafly_spreadsheets" ("aasm_state")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106031913"]]
  [1m[35m (15.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateButtaflyMappings (20180106034152)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "buttafly_mappings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "legend_id" integer, "originable_id" integer, "originable_type" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_mappings_on_originable_id_and_originable_type" ON "buttafly_mappings" ("originable_id", "originable_type")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106034152"]]
  [1m[35m (22.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateButtaflyLegends (20180106034801)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "buttafly_legends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "data" text, "targetable_model" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106034801"]]
  [1m[35m (21.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateWines (20180106075709)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "wines" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "vintage" varchar, "winery_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106075709"]]
  [1m[35m (17.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateWineries (20180106075729)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "wineries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "mission" varchar, "history" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106075729"]]
  [1m[35m (17.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateUsers (20180106075759)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106075759"]]
  [1m[35m (10.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateReviews (20180106075828)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "rating" integer, "content" varchar, "reviewer_id" integer, "wine_id" varchar, "integer" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106075828"]]
  [1m[35m (15.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-01-08 23:01:25.814388"], ["updated_at", "2018-01-08 23:01:25.814388"]]
  [1m[35m (13.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateButtaflySpreadsheets (20180106031913)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "buttafly_spreadsheets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "flat_file" varchar, "aasm_state" varchar, "uploader_id" integer, "imported_at" datetime, "processed_at" datetime, "row_count" integer, "mtime" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_uploader_id" ON "buttafly_spreadsheets" ("uploader_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_name" ON "buttafly_spreadsheets" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_imported_at" ON "buttafly_spreadsheets" ("imported_at")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_processed_at" ON "buttafly_spreadsheets" ("processed_at")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_aasm_state" ON "buttafly_spreadsheets" ("aasm_state")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106031913"]]
  [1m[35m (22.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateButtaflyMappings (20180106034152)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "buttafly_mappings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "legend_id" integer, "originable_id" integer, "originable_type" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_mappings_on_originable_id_and_originable_type" ON "buttafly_mappings" ("originable_id", "originable_type")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106034152"]]
  [1m[35m (29.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateButtaflyLegends (20180106034801)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "buttafly_legends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "data" text, "targetable_model" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106034801"]]
  [1m[35m (10.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateWines (20180106075709)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "wines" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "vintage" varchar, "winery_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106075709"]]
  [1m[35m (10.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateWineries (20180106075729)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "wineries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "mission" varchar, "history" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106075729"]]
  [1m[35m (11.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateUsers (20180106075759)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106075759"]]
  [1m[35m (16.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateReviews (20180106075828)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "rating" integer, "content" varchar, "reviewer_id" integer, "wine_id" varchar, "integer" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106075828"]]
  [1m[35m (19.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-01-08 23:02:29.177498"], ["updated_at", "2018-01-08 23:02:29.177498"]]
  [1m[35m (13.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (29.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateButtaflySpreadsheets (20180106031913)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "buttafly_spreadsheets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "flat_file" varchar, "aasm_state" varchar, "uploader_id" integer, "imported_at" datetime, "processed_at" datetime, "row_count" integer, "mtime" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_uploader_id" ON "buttafly_spreadsheets" ("uploader_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_name" ON "buttafly_spreadsheets" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_imported_at" ON "buttafly_spreadsheets" ("imported_at")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_processed_at" ON "buttafly_spreadsheets" ("processed_at")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_spreadsheets_on_aasm_state" ON "buttafly_spreadsheets" ("aasm_state")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106031913"]]
  [1m[35m (10.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateButtaflyMappings (20180106034152)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "buttafly_mappings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "legend_id" integer, "originable_id" integer, "originable_type" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_buttafly_mappings_on_originable_id_and_originable_type" ON "buttafly_mappings" ("originable_id", "originable_type")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106034152"]]
  [1m[35m (16.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateButtaflyLegends (20180106034801)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "buttafly_legends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "data" text, "targetable_model" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106034801"]]
  [1m[35m (16.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateWines (20180106075709)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "wines" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "vintage" varchar, "winery_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106075709"]]
  [1m[35m (23.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateWineries (20180106075729)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "wineries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "mission" varchar, "history" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106075729"]]
  [1m[35m (23.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateUsers (20180106075759)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106075759"]]
  [1m[35m (17.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateReviews (20180106075828)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "rating" integer, "content" varchar, "reviewer_id" integer, "wine_id" varchar, "integer" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180106075828"]]
  [1m[35m (16.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateExcelSheets (20180108233536)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "excel_sheets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "flat_file" varchar, "aasm_state" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180108233536"]]
  [1m[35m (11.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-01-08 23:37:17.738572"], ["updated_at", "2018-01-08 23:37:17.738572"]]
  [1m[35m (8.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_mappings_on_originable_id_and_originable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_aasm_state' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_processed_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_imported_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_buttafly_spreadsheets_on_uploader_id' AND type='index'
[0m
Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 16:44:26 -0800
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (14.7ms)
Completed 200 OK in 228ms (Views: 227.3ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 16:45:00 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (4.2ms)
Completed 200 OK in 21ms (Views: 18.4ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 16:45:40 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (5.5ms)
Completed 200 OK in 28ms (Views: 26.4ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 16:45:46 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.5ms)
Completed 200 OK in 24ms (Views: 22.4ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 16:45:53 -0800
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (6.5ms)
Completed 200 OK in 24ms (Views: 22.6ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 16:46:00 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (20.5ms)
Completed 200 OK in 227ms (Views: 225.5ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 16:46:55 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (15.4ms)
Completed 200 OK in 232ms (Views: 230.9ms | ActiveRecord: 0.0ms)


Started GET "/buttafly" for 127.0.0.1 at 2018-01-08 16:51:03 -0800
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Buttafly::ContentsController#index as HTML
  Rendering /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application
  Rendered /home/schadenfred/work/opensource/engines/buttafly/buttafly/app/views/buttafly/contents/index.html.haml within layouts/buttafly/application (14.3ms)
Completed 200 OK in 244ms (Views: 243.2ms | ActiveRecord: 0.0ms)


